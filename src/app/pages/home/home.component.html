<div class="bg-dark-subtle p-4">
  <h1 class="text-center">Ciao {{ user.nome | titlecase }}!</h1>
  <p class="text-center mb-5">Ecco la lista dei film per oggi:</p>
  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    <div class="col" *ngFor="let movie of movies">
      <div class="card h-100">
        <img
          [src]="movie.photo"
          class="card-img-top"
          alt="Card image cap"
          style="height: 300px; object-fit: contain"
        />
        <div class="card-body d-flex flex-column">
          <h5
            class="card-title d-flex justify-content-between align-items-center"
          >
            {{ movie.title }}
            <i
              class="fa"
              [ngClass]="{
                'fa-heart': isFavorite(movie.id),
                'fa-heart-o': !isFavorite(movie.id)
              }"
              (click)="toggleFavorite(movie)"
              style="cursor: pointer; color: red"
            ></i>
          </h5>
          <p class="card-text">
            <small class="text-muted">{{ movie.year }}</small>
          </p>
          <p class="card-text fst-italic">{{ movie.genre }}</p>
          <p class="card-text flex-grow-1">{{ movie.description }}</p>
          <button
            (click)="addToFavorites(movie.id)"
            class="btn btn-primary mt-auto"
          >
            Preferiti
          </button>

          <button
            [routerLink]="['/movies-popolar', movie.id]"
            class="btn btn-secondary mt-2"
          >
            Dettagli
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
